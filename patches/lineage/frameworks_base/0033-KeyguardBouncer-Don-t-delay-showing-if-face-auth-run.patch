From e094ef1cee42be97318b4731a559691e77301002 Mon Sep 17 00:00:00 2001
From: jhenrique09 <jhsv09@gmail.com>
Date: Sat, 12 Feb 2022 17:46:32 -0300
Subject: [PATCH 05/11] KeyguardBouncer: Don't delay showing if face auth
 running

[someone5678] Forward port to A13 QPR3

Change-Id: I1897aa22a9c29627b2f03e14f093151453df7be4
---
 .../domain/interactor/PrimaryBouncerInteractor.kt        | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/bouncer/domain/interactor/PrimaryBouncerInteractor.kt b/packages/SystemUI/src/com/android/systemui/bouncer/domain/interactor/PrimaryBouncerInteractor.kt
index 0e0f1f6265d7..96643a1a3b54 100644
--- a/packages/SystemUI/src/com/android/systemui/bouncer/domain/interactor/PrimaryBouncerInteractor.kt
+++ b/packages/SystemUI/src/com/android/systemui/bouncer/domain/interactor/PrimaryBouncerInteractor.kt
@@ -77,8 +77,6 @@ constructor(
     private val featureFlags: FeatureFlags,
     @Application private val applicationScope: CoroutineScope,
 ) {
-    private val passiveAuthBouncerDelay =
-        context.resources.getInteger(R.integer.primary_bouncer_passive_auth_delay).toLong()
     /** Runnable to show the primary bouncer. */
     val showRunnable = Runnable {
         repository.setPrimaryShow(true)
@@ -169,12 +167,7 @@ constructor(
         }
 
         repository.setPrimaryShowingSoon(true)
-        if (usePrimaryBouncerPassiveAuthDelay()) {
-            Log.d(TAG, "delay bouncer, passive auth may succeed")
-            mainHandler.postDelayed(showRunnable, passiveAuthBouncerDelay)
-        } else {
-            DejankUtils.postAfterTraversal(showRunnable)
-        }
+        DejankUtils.postAfterTraversal(showRunnable)
         keyguardStateController.notifyPrimaryBouncerShowing(true)
         primaryBouncerCallbackInteractor.dispatchStartingToShow()
         Trace.endSection()
-- 
2.25.1

